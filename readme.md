## GIT å®è·µæ“ä½œè®°å½• åå®ç”¨ 

####  åŸºæœ¬æ¦‚å¿µ

â€‹    [æœ€å¥½çš„gitç®€æ˜“æŒ‡å—](http://rogerdudler.github.io/git-guide/index.zh.html)

1. å·¥ä½œåŒºï¼Œæš‚å­˜åŒºå’Œä»“åº“  work->stage->repository(.gitæ–‡ä»¶)
2. HEADæŒ‡å‘æŸä¸ªcommitçš„æŒ‡é’ˆï¼Œç”±äºæ˜¯æŒ‡é’ˆæ“ä½œï¼Œgitåœ¨åˆå¹¶åˆ†æ”¯å¾ˆè¿…é€Ÿã€‚

#### å¼€å§‹å‡†å¤‡

* githubä¸Šæ–°å»ºä¸€ä¸ªç©ºçš„è¿œç«¯ä»“åº“ æœ€å¥½ä¸è¦å‹¾é€‰æ·»åŠ readme.mdï¼Œä¸ç„¶ç›´æ¥æ¨é€æœ¬åœ°å·²æœ‰ä»“åº“ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚

* git init åˆå§‹åŒ–æœ¬åœ°ä»“åº“   

  git remote add origin ä½ çš„è¿œç¨‹åº“åœ°å€  // æŠŠæœ¬åœ°åº“ä¸è¿œç¨‹åº“å…³è”    

  git push -u origin master    // ç¬¬ä¸€æ¬¡æ¨é€æ—¶

*  git config --global [alias.st](http://alias.st/) status ç»™å‘½ä»¤é…ç½®ç®€å†™ å…¨å±€ç”Ÿæ•ˆ

#### å·¥ä½œåŒºï¼ˆé¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå°±æ˜¯init gitçš„å‘½ä»¤æ‰€åœ¨çš„å½“å‰æ•´ä¸ªç›®å½•ï¼‰

* git stçœ‹åˆ°çš„çº¢è‰²çš„å°±æ˜¯å·¥ä½œåŒºä¿®æ”¹çš„æ–‡ä»¶


* git add file æ·»åŠ å·¥ä½œåŒºè¯¥æ–‡ä»¶åˆ°æš‚å­˜åŒº
* git add . æ·»åŠ å·¥ä½œåŒºå½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº

#### æš‚å­˜åŒºï¼ˆgit stçœ‹åˆ°çš„æ–‡ä»¶é¢œè‰²æ˜¯ç»¿è‰²çš„ï¼‰

* git commit -m "comment"

* git commit --amend  ä¿®æ”¹æäº¤çš„comment   

* git commit -a --amend è¿½åŠ ä¿®æ”¹åˆ°ä¸Šæ¬¡çš„æäº¤ä¿¡æ¯ï¼ˆä¸Šæ¬¡çš„æäº¤ä¸èƒ½pushï¼Œå¦åˆ™pullä¼šå†²çªï¼Œéœ€è¦rebaseï¼›å¦‚æœç¡®è®¤è¿œç«¯æ²¡æœ‰è¢«åˆ«äººæ›´æ–°æˆ–è€…æ‹‰å– push -fï¼‰


  * [git rebase](http://jartto.wang/2018/12/11/git-rebase/) 


* git æ’¤é”€æäº¤åˆ°æŒ‡å®šcommitid
   *    git reset --hard fabab51e
* gitå›é€€commitä½†æ˜¯æ²¡æœ‰pushçš„ç‰ˆæœ¬
   * git reset -hard id  
     å®Œæˆæ’¤é”€ï¼ŒåŒæ—¶å°†ä»£ç æ¢å¤åˆ°å‰ä¸€ä¸ªcommit_idå¯¹åº”çš„ç‰ˆæœ¬
     **è¿˜å¯ä»¥å›é€€pullåçš„å†²çªåˆ°pullå‰çš„çŠ¶æ€** 
   * git reset id ï¼ˆå¯ä»¥åšåˆ°å›é€€åˆ°æäº¤ä¹‹å‰çš„çŠ¶æ€ï¼Œä¸å½±å“å·¥ä½œåŒºå·²ç»åšå‡ºçš„æ›´æ”¹ã€‚å¯ä»¥ç›´æ¥é€šè¿‡git commit é‡æ–°æäº¤å¯¹æœ¬åœ°ä»£ç çš„ä¿®æ”¹ ğŸ”¥ resetæ¢å¤æš‚å­˜åŒºçš„æ–‡ä»¶åˆ°å·¥ä½œåŒº reset--hardé‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä½¿ä¹‹å’Œä¸Šæ¬¡æäº¤ä¿æŒä¸€è‡´ ã€‚å’Œgit checkout .åŒºåˆ«ï¼šgit checkoutå°†å·¥ä½œåŒºå†…å®¹æ’¤å›ï¼Œå·¥ä½œåŒºåšå‡ºçš„ä¿®æ”¹æ˜¯çº¢è‰²çš„ï¼Œæš‚å­˜åŒºæ˜¯ç»¿è‰²çš„ï¼‰ 
* gitè®©è¿œç«¯åˆ†æ”¯å®Œå…¨è¦†ç›–æœ¬åœ°åˆ†æ”¯
   * git fetch --all   

   * git reset --hard origin/master  

   *  git pull


#### åˆ†æ”¯æ“ä½œ


* git åˆ†æ”¯å‘½ä»¤
   * git checkout devï¼ˆ~~å¦‚æœæ²¡æœ‰dev åˆ™æ–°å»ºä¸€ä¸ªåˆ†æ”¯~~åˆ‡æ¢åˆ°devï¼‰
   * :smile: git checkout  --orphan guer åˆ›å»ºæ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„å­¤å„¿åˆ†æ”¯ï¼Œä½†æ˜¯æ–‡ä»¶è¿˜åœ¨ï¼Œå¯ä»¥git rm -rf .ç§»é™¤å­¤å„¿åˆ†æ”¯ä¸‹æ–‡ä»¶ã€‚æ­¤æ—¶git branch -açœ‹ä¸åˆ°ï¼Œè¦å‘ç”Ÿcommitå°±å¯ä»¥çœ‹åˆ°ã€‚
   * git checkout -b devï¼ˆåŸºäºå½“å‰åˆ†æ”¯å…‹éš†ä¸€ä¸ªåˆ†æ”¯å¹¶åˆ‡æ¢åˆ°devåˆ†æ”¯ ç­‰åŒäºgit branch   dev +git checkout devï¼‰
   * git branch -a æ˜¾ç¤ºæœ¬åœ°å’Œè¿œç«¯çš„åˆ†æ”¯
   * git branch -D devï¼ˆå¼ºåˆ¶åˆ é™¤devåˆ†æ”¯ï¼‰
   * git branch -d devï¼ˆåˆ é™¤å·²ç»å®Œå…¨mergeåˆ°ä¸Šæ¸¸çš„åˆ†æ”¯ï¼Œæˆ–è€…headæ²¡æœ‰trace/æ²¡æœ‰set upstream
   * git branch --list(æŸ¥çœ‹åˆ†æ”¯åˆ—è¡¨)
   
* git pullå¦‚æœæœ‰å†²çª å¯ä»¥å›é€€åˆ°æäº¤å‰çš„çŠ¶æ€ ç„¶åæŠŠæœ¬åœ°å·¥ä½œåŒºçš„å†…å®¹stashï¼Œpullåpopå‡ºï¼Œå¦‚æœåªæƒ³applyæŸæ¬¡stashï¼Œè¦git stash apply id
    * git commit -a --amend ä½†æ˜¯è¦æ³¨æ„ åªèƒ½æ˜¯æœ¬åœ°çš„å·²ç»æäº¤æ²¡æœ‰pushçš„æ”¹å˜
    * git stash drop stash{0}ä¸¢å¼ƒæŸä¸€ä¸ªstashï¼Œgit stash clearæ¸…æ¥šæ‰€æœ‰çš„stash
* gitå¯¹äºä¿®æ”¹äº†æ²¡æœ‰addåˆ°æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œå¯ä»¥ç”¨checkoutæ”¾å¼ƒå¯¹å·¥ä½œåŒºä¿®æ”¹
* git push -få¼ºåˆ¶è¦†ç›–è¿œç¨‹åˆ†æ”¯
*  git reset head æ¢å¤æäº¤åˆ°æš‚å­˜åŒºçš„ä¿®æ”¹ï¼Œé‡æ–°å›åˆ°å·¥ä½œåŒº
   * git reset --hard versionnumber
  * git reset --hard HEAD^ (ä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD^ï¼Œä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD^^)
  * git checkout æ˜¯æ’¤é”€æœ¬åœ°æš‚å­˜åŒºçš„ä¿®æ”¹ï¼Œä½¿å·¥ä½œåŒºclean
  * git clean -df å¼ºåˆ¶æ¸…é™¤æœªè¢«è¿½è¸ªçš„æ–‡ä»¶
  * git config --global alias.st status ç»™å‘½ä»¤é…ç½®ç®€å†™ å…¨å±€ç”Ÿæ•ˆ
  * git ä»æš‚å­˜åŒºçš„æäº¤ æ’¤å›åˆ°å·¥ä½œåŒºçŠ¶æ€  git reset idï¼ˆä¸Šæ¬¡æäº¤çš„idhashå€¼ï¼‰
  * å¦‚æœå½“å‰å¾ˆä¹…æ²¡æœ‰pull commitåpullï¼Œå†²çªï¼Œgit rebase --continue ä¸€æ­¥æ­¥è§£å†³å†²çªçš„commitï¼Œå¿½ç•¥ç”¨git add . ç»§ç»­å³å¯ã€‚gitçš„æç¤ºéå¸¸åªèƒ½ï¼Œæ ¹æ®æç¤ºæ“ä½œå³å¯
  * git remote 
    * git remote rm originåˆ é™¤æœ¬åœ°å…³è”çš„è¿œç«¯çš„åˆ†æ”¯
    * git remote -v æŸ¥çœ‹æœ¬åœ°å…³è”çš„è¿œç«¯åˆ†æ”¯
    * git remote add origin (your remote address)

#### é«˜çº§æ“ä½œ
  * git reflog æŸ¥çœ‹è¿‡å»æ“ä½œæ—¥å¿—ï¼Œè®°å½•äº†å†å²è®°å½• ç»§ç»­å›åˆ°å›é€€ç‰ˆæœ¬
  * git cherry-pick commitId å°†æŸä¸ªåˆ†æ”¯çš„ä¸€ä¸ªcommitæ‹‰å–åˆ°å½“å‰åˆ†æ”¯
  * git rebase -i id gitåˆå¹¶æäº¤ä¿¡æ¯ï¼ˆæ­¤å‘½ä»¤ä¼šè¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œï¼Œç„¶åä¼šæœ‰æç¤ºpè¡¨ç¤ºé€‰ä¸­ï¼Œsè¡¨ç¤ºåˆå¹¶åˆ°ä¸Šä¸€æ¬¡æäº¤ä¿¡æ¯ä¸Šï¼Œeè¡¨ç¤ºä¿®æ”¹æ¡£æ¬¡çš„ææ¡ä¿¡æ¯ï¼‰see:https://www.jianshu.com/p/4a8f4af4e803
* git rebase branch åˆå¹¶æ–°çš„commitåˆ°å½“å‰åˆ†æ”¯ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥pull pullè¦åŠ rebaseå‚æ•° å¦åˆ™å†²çª
* git pull --rebase è¿œç«¯åˆ†æ”¯è¦†ç›–æœ¬åœ°åˆ†æ”¯ æœ¬åœ°ä¿®æ”¹æ”¾å¼ƒ
* git reflog show chenzg æŸ¥çœ‹åˆ†æ”¯çš„çˆ¶èŠ‚ç‚¹ï¼Œå³æ˜¯ä»é‚£ä¸ªåˆ†æ”¯æ£€å‡ºçš„ã€‚
* git branch -vvå¯ä»¥çœ‹æœ¬åœ°åˆ†æ”¯è¿½è¸ªçš„è¿œç«¯åˆ†æ”¯
* git branch dev commitid ä»å½“å‰åˆ†æ”¯æ–°å»ºä¸€ä¸ªdevåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommitï¼›**â€é‡ç‚¹ åˆ†æ”¯å…¶å®ä¹Ÿæ˜¯æŒ‡å‘æŸä¸ª`commit`çš„æŒ‡é’ˆï¼Œ`HEAD`ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘å½“å‰å·¥ä½œç›®å½•ä¸‹çš„`commit`**  
   * git branch --set-upsteam dev origin/devå°†æœ¬åœ°devå’Œè¿œç«¯å»ºç«‹è¿½è¸ªå…³ç³»
   * git push origin chenzg:chenzg æœ¬åœ°å‘½ä»¤æ·»åŠ è¿œç«¯åˆ†æ”¯
   * git push origin --delete chenzg æœ¬åœ°å‘½ä»¤åˆ é™¤è¿œç«¯åˆ†æ”¯
   * git remote prune origin å¯ä»¥åˆ é™¤ç¼“å­˜åœ¨æœ¬åœ°çš„è¿œç«¯å·²ç»åˆ é™¤çš„åˆ†æ”¯

